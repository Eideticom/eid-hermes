# eid-hermes Submission Queue Entry and Completion Queue Entry Definition

## Introduction

This document defines the format of the Submission Queue Entries
(SQEs) and Completion Queue Entries (CQEs) betweenn the host compute
and an eid-hermes eBPF accelerator device.

## SQE Format

An SQE intended for the eid-hermes device is constructed as follows:

|Offset  | Length | Name     | Value | Description            |
|--------|--------|----------|-------|------------------------|
| 0x00   | 1      | SQEMAGIC | 1     | Do we need a magic? |
| 0x04   | ?      | SQEPSLOT | NA    | The program slot to use |
| 0x08   | ?      | SQEDSLOT | NA    | The data slot to use |

## CQE Format

An CQE generated by the eid-hermes device is constructed as follows:

|Offset  | Length | Name     | Value | Description            |
|--------|--------|----------|-------|------------------------|
| 0x00   | 1      | CQEMAGIC | 1     | Do we need a magic? |
| 0x04   | ?      | CQEPSLOT | NA    | The program slot used |
| 0x08   | ?      | CQEDSLOT | NA    | The data slot used |
| 0x08   | ?      | CQESTATUS | NA    | Return code |

The CQE status codes are defined as follows:

| Name        | Value | Description            |
|-------------|-------|------------------------|
| CQESSUCCESS | 0     | eBPF execution success |
| CQESFAILURE | 1     | eBPF execution failure |
